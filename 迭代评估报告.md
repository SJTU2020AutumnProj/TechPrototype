# 迭代评估报告

组号：第3组

项目名称：小箱交云作业平台

迭代名称：技术原型迭代

实际起止日期：2020年10月12日-2020年11月18日

评估日期：2020年11月17日



## 任务达成情况（完成的任务、实现的功能、进度、质量等）

- 确定了本次迭代的迭代计划，将完成各项任务的时间粒度细分到2~3天，确定了各项任务的负责人。
- 确定了后端开发所用的Go语言的编程规范以及前端开发所用的Javascript语言的编程规范，将组员之间的代码风格进行了统一，提升了团队开发的效率，减少了错误出现的概率。本任务从10月16日开始，到10月18日如期完成，完成质量良好。
- 完成了软件架构设计的逻辑视图，分别从总体、浏览器端、服务器端和中间件对本项目进行了逻辑视图设计，明确了各逻辑视图的内部结构以及各个模块之间的关联。本任务从10月26日开始，到11月1日如期完成，完成质量良好。
- 完成了软件架构设计的部署视图，对本项目的物理方面建模，描写叙述本项目系统在执行时浏览器节点和服务器节点、各个服务的构件实例及其对象的配置情况。本任务从10月26日开始，到11月1日如期完成，完成质量良好。
- 完成了软件架构设计的实现视图，为本项目系统中的PC浏览器以及服务器构件建模，详细阐述了构件之间的依赖关系。本任务从11月2日开始，到11月8日如期完成，完成质量良好。
- 完成了软件架构设计的页面视图，详细阐述了在客户PC浏览器端的各个页面之间的关系。本任务从11月2日开始，到11月8日如期完成，完成质量良好。
- 完成了UML分析，并选取了两个GOF设计模式对本项目进行了设计，详细阐述了这两个GOF设计模式是如何运用到本项目的。本任务从11月9日开始，到11月15日如期完成，完成质量良好。
- 实现了本项目的技术原型，完成了本项目数据库、后端微服务服务以及前端的整体架构的实际搭建工作。初步完成了后端四个微服务的实现代码以及前端大部分页面的实现代码。完成了核心算法的设计。本任务从11月9日开始，到11月17日如期完成，完成质量良好。



## 评审/测试的结果

- 在对于我们概念类图的评审中老师指出在类图中交叉的线条尽量避免，应该有更合理的布局。我们根据老师的评审建议及时进行了改进。
- 在对于我们架构设计的评审中老师指出部署视图的连接线上应该描述使用什么媒介进行连接的。我们根据老师的评审结果及时进行了改进。
- 我们对后端已经初步完成的微服务编写了测试脚本进行正确性测试，最终后端微服务通过了所有的正确性测试。
- 我们通过Jmeter对后端进行了非功能性测试，获得了后端技术原型的各项非功能性指标。



## 问题、变更和返工

- 在设计Mysql数据库的时候，我们一开始的想法是在user表和course表之间建立两个联系集 take和teach，分别对应学生选课和教师授课，但是之后在后端进行ORM映射的时候发现如果两个表之间有两个联系集会带来问题，所以我们将两个联系集合并成了一个。由于发现该问题的时间比较早，所以我们只需要修改sql文件中的两个表即可，返工工作量较小。
- 在设计Mysql数据库的时候由于数据表的命名不够规范，导致我们开发后端使用gorm框架进行ORM映射的时候出现了奇怪的错误。为了解决这一问题，我们对sql文件中的表名进行了更正，并重新导入数据库，这一返工工作量较大。
- 由于在第一次迭代中我们将前端数据写死，导致我们难以难以增加动态需求。
- 在开发前端的时候，刚开始没有和后端好好确定API，而是按照自己的想法加数据字段，导致后来因为后端返回的数据结构与预设的不一致而不得不把前端页面重新排版。
- 在开发后端的时候，由于我们项目组使用的是Golang的Go-micro框架开发后端微服务，而网上关于Go-micro的教程可以说是少之又少，导致我们在学习使用Go-micro框架的时候遇到了很多困难，险些无法按期完成技术原型。好在最后经过组员加班加点的学习与开发终于在规定日期之前完成了技术原型的开发。
- 一开始在编写API接口文档的时候没有依据实际功能选择相对应的方法，偷懒全选择了post方法，并且在接口路径命名上没有按照一定的命名规范，导致接口路径没分类，易读性差，加大了整理难度和前后端开发难度。在小组讨论指出问题后，按照对数据库表的不同写操作将API文档分类，并依据是获取信息、更新信息还是增加信息选择合适get、post、put方法。



## 经验和教训

- 不管是写代码还是数据库设计一定要符合编码规范，不然会出很多问题，还有可能会降低团队开发的效率。
- 写代码时要考虑后续的可扩展性，不然虽然从短期来看开发速度会快一些，但是一旦遇到增加需求会这是需求变更的情况将会显得力不从心、无能为力。
- 团队开发最重要的是确定好API并严格面向API编程，只有这样才能真正提高团队开发效率并减少需要返工的可能。
- 前后端之间的API文档是为了方便前端和后端统一接口使用的，编写时要考虑统一性、易读性，不能随意命名、随意选择方式，这样会使API文档显得杂乱无章，且很难读取，同时也不利于后端对于接口分类管理。
- 当项目中使用到了新技术的时候应该提早开始对于新技术的学习，同时要对新技术的学习难度持悲观态度，只有这样才能督促自身提早着手学习新技术，从而规避技术风险。